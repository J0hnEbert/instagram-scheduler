{% extends "base.html" %}
{% block content %}
<h3>Vorschau des generierten Bildes</h3>
<img src="{{ url_for('static', filename=image_path) }}" class="img-fluid mb-3">

<form method="POST" action="{{ url_for('main.approve_generated_image') }}">
  <input type="hidden" name="image_path" value="{{ image_path }}">
  
  <div class="mb-2">
    <textarea class="form-control" name="caption" id="captionField" placeholder="Caption"></textarea>
    <button type="button" class="btn-primary" onclick="generatePreviewCaption()">KI-Caption generieren</button>
  </div>
  
  <div class="mb-2">
    <input class="form-control" type="text" name="hashtags" id="hashtagsField" placeholder="Hashtags">
    <button type="button" class="btn-primary" onclick="generatePreviewHashtags()">KI-Hashtags generieren</button>
  </div>
  
  <div class="mb-2">
    <input class="form-control" type="datetime-local" name="scheduled_time">
  </div>

  <button type="submit" class="btn-success">Bestätigen und übernehmen</button>
</form>

<form method="POST" action="{{ url_for('main.cancel_generated_image') }}" class="mt-2">
  <input type="hidden" name="image_path" value="{{ image_path }}">
  <button type="submit" class="btn-abort">Abbrechen und löschen</button>
</form>

<script src="{{ url_for('static', filename='js/approve_generated.js') }}"></script>
{% endblock %}
